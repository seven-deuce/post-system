{"ast":null,"code":"import _taggedTemplateLiteral from \"A:\\\\HTML 5\\\\graphQL\\\\code\\\\project-create-react-app\\\\post-system\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nimport _slicedToArray from \"A:\\\\HTML 5\\\\graphQL\\\\code\\\\project-create-react-app\\\\post-system\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"A:\\\\HTML 5\\\\graphQL\\\\code\\\\project-create-react-app\\\\post-system\\\\src\\\\client\\\\components\\\\signup.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"mutation CreateUser($firstName: String!, $lastName: String! , $email: String!, $password: String!){\\n\\t\\tcreateUser(userInput: {firstName: $firstName, lastName: $lastName ,email: $email, password: $password}) {\\n\\t\\t\\ttoken\\n\\t\\t\\terror\\n\\t\\t}\\n\\t}\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { createRef, useState, useContext } from \"react\";\nimport AuthContext from \"../context/AuthContext\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport styledComponents from \"../styled-components/styledComponents\";\nimport functions from \"../functions/functions\";\nvar Content = styledComponents.Content,\n    LoginForm = styledComponents.LoginForm,\n    LoginInput = styledComponents.LoginInput,\n    LoginButton = styledComponents.LoginButton,\n    AuthNotice = styledComponents.AuthNotice,\n    H1 = styledComponents.H1;\nvar writeToken = functions.writeToken;\n\nvar Signup = function Signup(props) {\n  var value = useContext(AuthContext);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      authNotice = _useState2[0],\n      setAuthNotice = _useState2[1];\n\n  var firstName = createRef(),\n      lastName = createRef(),\n      email = createRef(),\n      password = createRef();\n  var reqBody = gql(_templateObject());\n  return React.createElement(Mutation, {\n    mutation: reqBody,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, function (createUser, response) {\n    return React.createElement(Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(LoginForm, {\n      onSubmit: function onSubmit(event) {\n        event.preventDefault();\n        createUser({\n          variables: {\n            firstName: firstName.current.value,\n            lastName: lastName.current.value,\n            email: email.current.value,\n            password: password.current.value\n          }\n        }).then(function (result) {\n          if (result.data.createUser.error) {\n            setAuthNotice(result.data.createUser.error);\n            return result;\n          } else {\n            var tok = result.data.createUser.token;\n            writeToken(tok);\n            value.login(result.data.createUser);\n            props.history.push(\"/members/posts\");\n          }\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(H1, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Sign up Now and Join Our Community!\"), authNotice ? React.createElement(AuthNotice, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, authNotice) : null, React.createElement(LoginInput, {\n      type: \"text\",\n      required: true,\n      maxlength: \"30\",\n      name: \"firstname\",\n      placeholder: \"First Name...\",\n      ref: firstName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(LoginInput, {\n      type: \"text\",\n      required: true,\n      maxlength: \"30\",\n      name: \"lastname\",\n      placeholder: \"Last Name...\",\n      ref: lastName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), React.createElement(LoginInput, {\n      type: \"email\",\n      required: true,\n      maxlength: \"30\",\n      name: \"email\",\n      placeholder: \"Email...\",\n      ref: email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(LoginInput, {\n      type: \"password\",\n      required: true,\n      maxlength: \"30\",\n      name: \"password\",\n      placeholder: \"Password...\",\n      ref: password,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(LoginButton, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Sign up\")));\n  });\n};\n\nexport default Signup;","map":{"version":3,"sources":["A:\\HTML 5\\graphQL\\code\\project-create-react-app\\post-system\\src\\client\\components\\signup.js"],"names":["React","createRef","useState","useContext","AuthContext","Mutation","gql","styledComponents","functions","Content","LoginForm","LoginInput","LoginButton","AuthNotice","H1","writeToken","Signup","props","value","authNotice","setAuthNotice","firstName","lastName","email","password","reqBody","createUser","response","event","preventDefault","variables","current","then","result","data","error","tok","token","login","history","push","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { createRef, useState, useContext } from \"react\"\r\nimport AuthContext from \"../context/AuthContext\"\r\nimport { Mutation } from \"react-apollo\";\r\nimport gql from \"graphql-tag\";\r\nimport styledComponents from \"../styled-components/styledComponents\"\r\nimport functions from \"../functions/functions\"\r\nconst { Content, LoginForm, LoginInput, LoginButton, AuthNotice, H1 } = styledComponents\r\nconst { writeToken } = functions\r\n\r\nconst Signup = (props) => {\r\n\r\n\tconst value = useContext(AuthContext)\r\n\r\n\tconst [ authNotice, setAuthNotice ] = useState( false )\r\n\tconst firstName = createRef(),\r\n\tlastName = createRef(),\r\n\temail = createRef(),\r\n\tpassword = createRef()\r\n\tlet reqBody = gql `mutation CreateUser($firstName: String!, $lastName: String! , $email: String!, $password: String!){\r\n\t\tcreateUser(userInput: {firstName: $firstName, lastName: $lastName ,email: $email, password: $password}) {\r\n\t\t\ttoken\r\n\t\t\terror\r\n\t\t}\r\n\t}`\r\n\treturn (\r\n\t\t<Mutation mutation={reqBody}>\r\n\r\n\t\t{(createUser, response) =>{\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<Content>\r\n\t\t\t\t<LoginForm  onSubmit={  (event) =>{\r\n\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\tcreateUser({ variables: { firstName: firstName.current.value, \r\n\t\t\t\t\t\tlastName:lastName.current.value, \r\n\t\t\t\t\t\temail:email.current.value, \r\n\t\t\t\t\t\tpassword: password.current.value } \r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then(result => {\r\n\r\n\t\t\t\t\t\tif(result.data.createUser.error) {\r\n\t\t\t\t\t\t\tsetAuthNotice(result.data.createUser.error)\r\n\t\t\t\t\t\t\treturn result\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tconst tok = result.data.createUser.token\r\n\t\t\t\t\t\t\twriteToken(tok)\r\n\t\t\t\t\t\t\tvalue.login(result.data.createUser)\r\n\t\t\t\t\t\t\tprops.history.push( \"/members/posts\")\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(err=> console.log(err)) \r\n\t\t\t\t}}>\r\n\r\n\t\t\t\t<H1>Sign up Now and Join Our Community!</H1>\r\n\r\n\t\t\t\t{(authNotice) ? (<AuthNotice>{authNotice}</AuthNotice>) : null }\r\n\t\t\t\t<LoginInput type=\"text\" required maxlength=\"30\" name=\"firstname\" placeholder=\"First Name...\" ref={firstName} />\r\n\t\t\t\t<LoginInput type=\"text\" required maxlength=\"30\" name=\"lastname\" placeholder=\"Last Name...\" ref={lastName}/>\r\n\t\t\t\t<LoginInput type=\"email\" required maxlength=\"30\" name=\"email\" placeholder=\"Email...\" ref={email} />\r\n\t\t\t\t<LoginInput type=\"password\" required maxlength=\"30\" name=\"password\" placeholder=\"Password...\" ref={password} />\r\n\r\n\t\t\t\t<LoginButton type=\"submit\">Sign up</LoginButton>\t\r\n\t\t\t\t</LoginForm>\r\n\t\t\t\t</Content>\r\n\r\n\t\t\t\t) } }\r\n\r\n\r\n\r\n\r\n\t\t\t</Mutation>\r\n\t\t\t)\r\n}\r\n\r\n\r\n\r\n\r\nexport default Signup"]},"metadata":{},"sourceType":"module"}